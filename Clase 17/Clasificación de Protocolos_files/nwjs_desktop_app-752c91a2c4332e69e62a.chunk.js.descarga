(("undefined"!==typeof self?self:this).webpackJsonp=("undefined"!==typeof self?self:this).webpackJsonp||[]).push([[47],{1069:function(n,e){const o=function(n,e,o){return document.addEventListener("click",(function(t){if(t.currentTarget&&t.currentTarget.activeElement&&"A"===t.currentTarget.activeElement.tagName){const r=t.currentTarget.activeElement;if(!r.dataset.appTarget)return t.preventDefault(),r.baseURI.toUpperCase().includes("/AUTH/")||r.href.toUpperCase().includes("/AUTH/")?n(r.href):o(r.href);switch(t.preventDefault(),r.dataset.appTarget){case"none":break;case"self":return n(r.href);case"blank":return e(r.href);case"browser":return o(r.href)}}}))},t=function(n){document.firstElementChild.classList+=" desktopapp",n&&(document.firstElementChild.classList+=" "+n)},r=function(n){const e=.15,o=n[0],t=n[1],r=n[2];return[Math.round((0-o)*e)+o,Math.round((0-t)*e)+t,Math.round((0-r)*e)+r]},i=function(n){const e=n.toString(16);return 1===e.length?"0"+e:e},c=function(n){return"#"+i(n[0])+i(n[1])+i(n[2])};window.require=window.require||function(n){return console.log("Cannot load"+n+". The page should be loaded in NWJS app or some node environment"),function(){}},window.process=window.process||{cwd:function(){}},window.nw=window.nw||{App:{}},window.alert=window.alert,window.confirm=window.confirm,window.prompt=window.prompt,window.$desktopApp={},window.addEventListener("load",(function(){let n,e,i,u,d,a,s,l,w,f;"undefined"!==typeof chrome&&null!==chrome&&null!=(s=chrome.runtime)&&"function"===typeof s.sendMessage&&s.sendMessage("kcljbbiddpoeaknnjaminoceoojdbikp",{status:"loaded"}),"undefined"!==typeof chrome&&null!==chrome&&null!=(l=chrome.runtime)&&"function"===typeof l.sendMessage&&l.sendMessage("dkioigicbijecidbooccnhfafineggga",{status:"loaded"}),"undefined"!==typeof chrome&&null!==chrome&&null!=(w=chrome.runtime)&&null!=(f=w.onMessage)&&f.addListener((function(n,e,o){if(n.command){if("setMenu"===n.command)return nw.Window.get().menu=n.menu;if("actualSize"===n.command)return nw.Window.get().zoomLevel=0;if("zoomIn"===n.command)return nw.Window.get().zoomLevel++;if("zoomOut"===n.command)return nw.Window.get().zoomLevel--;if("fullScreen"===n.command)return nw.Window.get().toggleFullscreen()}})),"undefined"!==typeof Windows&&(n=function(n,e){return window.open(n,e||"_top")},a=function(n){return window.open(n,"_blank")},d=function(n){return Windows.System.Launcher.launchUriAsync(new Windows.Foundation.Uri(n))},o(n,a,d),t()),e=window.ww&&ww.device&&ww.device.desktopApp,e||(e=document.documentElement.dataset.variant&&document.documentElement.dataset.variant.includes("desktopapp")),i=!1,u=window.ww&&ww.device&&ww.device.nwjs,u||(u=document.documentElement.dataset.variant&&document.documentElement.dataset.variant.includes("nwjs")),e&&u&&(t("nwjs"),n=function(n,e){if(e&&"_top"!==e||(window.location.href=n),"_blank"===e)return window.open(n,"_blank")},ww.navigateDesktopApp=n,a=function(n){if(function(n){const e=chrome.app.window.getAll();for(let o in e)if(n===e[o].contentWindow.location.href)return e[o].focus(),!1;return!0}(n))return function(n){const e={color:"#ebebeb",inactiveColor:"#f8f8f8"};return new Promise((function(o,t){const i=new URL(n);return fetch(i.origin+"/walls/address:"+i.pathname.slice(1)).then((function(n){return n.json()})).then((function(n){return o({color:c(r(n.background.dominant_color)),inactiveColor:c(n.background.dominant_color)})})).catch((function(n){return o(e)}))}))}(n).then((function(e){return function(n){let e=-1,o=-1;const t=chrome.app.window.current()||chrome.app.window.getAll()[0],r=chrome.app.window.getAll(),i=[];t&&(e=(t.x||t.innerBounds.left)+20,o=(t.y||t.innerBounds.top)+20);for(let c in r){const n=r[c];n&&i.push({x:n.innerBounds.left,y:n.innerBounds.top})}i.sort((function(n,e){return n.x<e.x?-1:n.x>e.x?1:0}));for(let c in i)bounds=i[c],e===bounds.x&&console.log("increase"),e=e===bounds.x?bounds.x+20:e,o=o===bounds.y?bounds.y+20:o;return e=-1===e?null:e,o=-1===o?null:o,n({x:e,y:o})}((function(o){var t;t={innerBounds:{width:1280,height:800,minWidth:400,minHeight:200,left:o.x,top:o.y},frame:{type:"chrome",color:e.color,inactiveColor:e.inactiveColor}},chrome.app.window.create(n,t)}))}))},d=function(n){return nw.Shell.openExternal(n)},o(n,a,d))}))}},[[1069,91]]]);
//# sourceMappingURL=nwjs_desktop_app-752c91a2c4332e69e62a.chunk.js.map